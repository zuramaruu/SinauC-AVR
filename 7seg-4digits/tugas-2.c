#ifndef __AVR_ATmega8535__
#define __AVR_ATmega8535__
#endif

/******************************************************88
 * contoh.c
 * Created: 9/30/2020 9:00:17 AM
 * Author : HP
 ********************************************************/ 
#define F_CPU 1000000UL
#include <avr/io.h>
#include <util/delay.h>
#define digit PORTB
#define data PORTC
/*
dot   g    f    e    d    c    b    a
PC7  PC6  PC5  PC4  PC3  PC2  PC1  PC0    Hex  karakter 
 1    1    0    0    0    0    0    0     0xc0    "0"
 1    0    1    0    0    1    0    0     0xa4    "2"
 1    1    1    1    1    0    0    1     0xf9    "1"
 1    0    1    1    0    0    0    0     0xb0    "3"
 */
uint16_t i;
int main(void)
{
DDRC = 0xff; DDRB = 0xff;	//PORTC dan PORTB sebagai output
while (1){
//**********  X X X 0
for(i=0; i<=270; i++){
digit |= (1<<PB0);		//....................................
data = 0xc0;			//....................................
_delay_ms(1);
digit &= ~(1<<PB0);		//....................................
		
digit |= (1<<PB1);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB1);		//....................................
		
digit |= (1<<PB2);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB2);		//....................................
		
digit |= (1<<PB3);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB3);		//....................................
}
digit = 0;
		
 //**********  X X 0 1
for(i=0; i<=270; i++){
digit |= (1<<PB0);		//....................................
data = 0xf9;			//....................................
_delay_ms(1);
digit &= ~(1<<PB0);		//....................................
		
digit |= (1<<PB1);		//....................................
data = 0xc0;			//....................................
_delay_ms(1);
digit &= ~(1<<PB1);		//....................................
		
digit |= (1<<PB2);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB2);		//....................................
		
digit |= (1<<PB3);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB3);		//....................................
	}
	digit = 0;		
	//**********  X 0 1 2
	for(i=0; i<=270; i++){
digit |= (1<<PB0);		//....................................
data = 0xa4;			//....................................
_delay_ms(1);
digit &= ~(1<<PB0);		//....................................
		
digit |= (1<<PB1);		//....................................
data = 0xf9;			//....................................
_delay_ms(1);
digit &= ~(1<<PB1);		//....................................
		
digit |= (1<<PB2);		//....................................
data = 0xc0;			//....................................
_delay_ms(1);
digit &= ~(1<<PB2);		//....................................
		
digit |= (1<<PB3);		//....................................
data = 0xff;			//....................................
_delay_ms(1);
digit &= ~(1<<PB3);		//....................................
	}
	digit = 0;
	//**********  0 1 2 3
	for(i=0; i<=270; i++){
digit |= (1<<PB0);		//....................................
data = 0xb0;			//....................................
_delay_ms(1);
digit &= ~(1<<PB0);		//....................................
		
digit |= (1<<PB1);		//....................................
data = 0xa4;			//....................................
_delay_ms(1);
digit &= ~(1<<PB1);		//....................................
		
digit |= (1<<PB2);		//....................................
data = 0xf9;			//....................................
_delay_ms(1);
digit &= ~(1<<PB2);		//....................................
		
digit |= (1<<PB3);		//....................................
data = 0xc0;			//....................................
_delay_ms(1);
digit &= ~(1<<PB3);		//....................................
	}
       digit = 0;
   }
}
